
<!DOCTYPE html>
<html lang='en'>
<head>
	<meta charset='utf-8'/>
	<title>Source: term.js - JSDoc</title>
	<link type='text/css' rel='stylesheet' href='css/jsdoc-template.css'/>
	<meta name="viewport" content="width=device-width,
                        initial-scale=1"/>
</head>
<body data-gs='{"openPageHeader": "is-page-header-open", "searching": "is-searching"}'>
	<div id='page-wrapper'>
		<header id='page-header' data-gs-target='openPageHeader'>
			
			<h1 id='page-title'>
				<a href="/">JSDoc</a>
			</h1>
			
			<nav id='content-nav'>
				<header>
					<div id='search'>
						<div class='textfield-wrapper'>
							<input type='search' name='q' placeholder='Search...' data-internal-search='#content-nav li a' data-gs-search='searching'/>
						</div>
					</div>
				</header>
				<h2><a href="index.html">Home</a></h2><h3>Global</h3><ul><li><abbr title="Global">Glo</abbr> <a href="global.html#CallhighlightElementonelementwithacssclassstartingwith%2560shj-lang-%2560">Call highlightElement on element with a css class starting with `shj-lang-`</a></li><li><abbr title="Global">Glo</abbr> <a href="global.html#Changethecurrentusedthemeforhighlighting">Change the current used theme for highlighting</a></li><li><abbr title="Global">Glo</abbr> <a href="global.html#Findthetokensinthegivencodeandcallthecallback">Find the tokens in the given code and call the callback</a></li><li><abbr title="Global">Glo</abbr> <a href="global.html#HighlightaDOMelementbygettingthenewinnerHTMLwithhighlightText">Highlight a DOM element by getting the new innerHTML with highlightText</a></li><li><abbr title="Global">Glo</abbr> <a href="global.html#Highlightastringpassedasargumentandreturnastringthatcandirectlybeprinted">Highlight a string passed as argument and return a string that can directly be printed</a></li><li><abbr title="Global">Glo</abbr> <a href="global.html#Highlightastringpassedasargumentandreturnit">Highlight a string passed as argument and return it</a></li><li><abbr title="Global">Glo</abbr> <a href="global.html#Highlightandprintagivenstring">Highlight and print a given string</a></li><li><abbr title="Global">Glo</abbr> <a href="global.html#languages">languages</a></li><li><abbr title="Global">Glo</abbr> <a href="global.html#Trytofindthelanguagethegivencodebelongto">Try to find the language the given code belong to</a></li></ul>
			</nav>
		</header>
		<div id='main-wrapper'>
			<button id='page-header-opener' title='Toggle left bar' class='has-icon' data-css-icon='menu' type='button' data-gs-toggle='openPageHeader'>Toggle left bar</button>
			<main id='content'>
				<header>
					<h1 id='content-title'>Source: term.js</h1>
				</header>
				



    
    <figure class='source-code-wrapper'>
        <pre class="prettyprint source linenums"><code>/**
 * Terminal adaptor
*/

import { tokenize } from './index.js';

let theme = import('./themes/default.js');

/**
 * @async
 * @function
 * Highlight a string passed as argument and return a string that can directly be printed
 * @param {String} src The code
 * @param {String} lang The language of the code
 * @returns {String} The highlighted string
 */
export const highlightText = async (src, lang) => {
	let res = '', themeMap = (await theme).default;

	await tokenize(src, lang, (str, token) => res += token ? `${themeMap[token] ?? ''}${str}\x1b[0m` : str);

	return res;
};

/**
 * @async
 * @function
 * Highlight and print a given string
 * @param {String} code The code
 */
export const printHighlight = async (...arg) => console.log(await highlightText(...arg));

/**
 * @function
 * Change the current used theme for highlighting
 * @param {String} name The name of the theme
 */
export const setTheme = async name => theme = import(`./themes/${name}.js`);
</code></pre>
    </figure>





			</main>
			<footer id='page-footer'>
				<small>Documentation generated by <a href='https://github.com/jsdoc/jsdoc' rel='noreferrer noopener' target='_blank'>JSDoc 3.6.7</a>.</small>
				<small style='margin-left: 1em;'>Design by <a
                        href='https://github.com/AlexisPuga'
                        target='_blank'
                        rel="noopener noreferrer">Alexis Puga</a>.</small>
			</footer>
		</div>
	</div>
	<script src='js/jsdoc-template.js' async></script>
	
	<script src='js/prettify.min.js' async></script>
	<link rel='stylesheet' type='text/css' href='css/tomorrow.min.css'/>
	
	
</body>
</html>
