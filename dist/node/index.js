var b=Object.create;var r=Object.defineProperty;var v=Object.getOwnPropertyDescriptor;var $=Object.getOwnPropertyNames;var w=Object.getPrototypeOf,A=Object.prototype.hasOwnProperty;var m=t=>r(t,"__esModule",{value:!0});var I=(t,e)=>{m(t);for(var i in e)r(t,i,{get:e[i],enumerable:!0})},D=(t,e,i)=>{if(e&&typeof e=="object"||typeof e=="function")for(let a of $(e))!A.call(t,a)&&a!=="default"&&r(t,a,{get:()=>e[a],enumerable:!(i=v(e,a))||i.enumerable});return t},o=t=>D(m(r(t!=null?b(w(t)):{},"default",t&&t.__esModule&&"default"in t?{get:()=>t.default,enumerable:!0}:{value:t,enumerable:!0})),t);I(exports,{highlightAll:()=>C,highlightElement:()=>j,highlightText:()=>g,tokenize:()=>u});var y={num:{match:/(\.e?|\b)\d(e-|[\d.oxa-fA-F_])*(\.|\b)/g,type:"num"},str:{match:/(["'])(\\[^]|(?!\1)[^\r\n\\])*\1?/g,type:"str"},strDouble:{match:/"((?!")[^\r\n\\]|\\[^])*"?/g,type:"str"}};var x={},E=(t="")=>{var e,i,a,s;return(s=(i=(e=t.replaceAll("&","&#38;")).replaceAll)==null?void 0:(a=i.call(e,"<","&lt;")).replaceAll)==null?void 0:s.call(a,">","&gt;")},z=(t,e)=>e?`<span class="shj-syn-${e}">${t}</span>`:t;async function u(t,e,i){var f;let a,s,n={},p,l=[],h=0,d=typeof e=="string"?await((f=x[e])!=null?f:x[e]=Promise.resolve().then(()=>o(require(`./languages/${e}.js`)))):e,c=[...typeof e=="string"?d.default:e.sub];for(;h<t.length;){for(n.index=null,a=c.length;a-- >0;){if(s=c[a].expand?y[c[a].expand]:c[a],l[a]===void 0||l[a].match.index<h){if(s.match.lastIndex=h,p=s.match.exec(t),p===null){c.splice(a,1),l.splice(a,1);continue}l[a]={match:p,lastIndex:s.match.lastIndex}}l[a].match[0]&&(l[a].match.index<=n.index||n.index===null)&&(n={part:s,index:l[a].match.index,match:l[a].match[0],end:l[a].lastIndex})}if(n.index===null)break;i(t.slice(h,n.index),d.type),h=n.end,n.part.sub?await u(n.match,typeof n.part.sub=="string"?n.part.sub:n.part,i):i(n.match,n.part.type)}i(t.slice(h,t.length),d.type)}async function g(t,e,i=!0){let a=i?`<div><div class="shj-numbers">${"<div></div>".repeat(t.split(`
`).length)}</div><div>`:"";return await u(t,e,(s,n)=>a+=z(E(s),n)),i&&(a+="</div></div>"),a}async function j(t,e=(a=>(a=t.className.match(/shj-lang-([\w-]+)/))==null?void 0:a[1])(),i){let s=t.textContent;i!=null||(i=`${t.tagName=="CODE"?"in":s.split(`
`).length<2?"one":"multi"}line`),t.dataset.lang=e,t.className=`${[...t.classList].filter(n=>!n.startsWith("shj-")||n.startsWith("shj-mode-")).join(" ")} shj-lang-${e} shj-${i}`,t.innerHTML=await g(s,e,i=="multiline")}var C=async()=>document.querySelectorAll('[class*="shj-lang-"]').forEach(t=>j(t));0&&(module.exports={highlightAll,highlightElement,highlightText,tokenize});
