var x=Object.defineProperty;var f=t=>x(t,"__esModule",{value:!0});var g=(t,a)=>{f(t);for(var i in a)x(t,i,{get:a[i],enumerable:!0})};g(exports,{highlightAll:()=>j,highlightElement:()=>u,highlightText:()=>o,tokenize:()=>r});var m={num:{match:/(\.e?|\b)\d(e-|[\d.oxa-fA-F_])*(\.|\b)/g,type:"num"},str:{match:/(["'])(\\[^]|(?!\1)[^\r\n\\])*\1?/g,type:"str"},strDouble:{match:/"((?!")[^\r\n\\]|\\[^])*"?/g,type:"str"}};var y={},b=(t="")=>t.replaceAll("&","&#38;").replaceAll?.("<","&lt;").replaceAll?.(">","&gt;"),v=(t,a)=>a?`<span class="shj-syn-${a}">${t}</span>`:t;async function r(t,a,i){let e,l,n={},d,s=[],c=0,p=typeof a=="string"?await(y[a]??=require(`./languages/${a}.js`)):a,h=[...typeof a=="string"?p.default:a.sub];for(;c<t.length;){for(n.index=null,e=h.length;e-- >0;){if(l=h[e].expand?m[h[e].expand]:h[e],s[e]===void 0||s[e].match.index<c){if(l.match.lastIndex=c,d=l.match.exec(t),d===null){h.splice(e,1),s.splice(e,1);continue}s[e]={match:d,lastIndex:l.match.lastIndex}}s[e].match[0]&&(s[e].match.index<=n.index||n.index===null)&&(n={part:l,index:s[e].match.index,match:s[e].match[0],end:s[e].lastIndex})}if(n.index===null)break;i(t.slice(c,n.index),p.type),c=n.end,n.part.sub?await r(n.match,typeof n.part.sub=="string"?n.part.sub:n.part,i):i(n.match,n.part.type)}i(t.slice(c,t.length),p.type)}async function o(t,a,i=!0){let e=i?`<div><div class="shj-numbers">${"<div></div>".repeat(t.split(`
`).length)}</div><div>`:"";return await r(t,a,(l,n)=>e+=v(b(l),n)),i&&(e+="</div></div>"),e}async function u(t,a=t.className.match(/shj-lang-([\w-]+)/)?.[1],i=t.tagName!="CODE"){t.dataset.lang=a,t.classList.add("shj-lang-"+a),t.innerHTML=await o(t.textContent,a,i)}var j=async()=>document.querySelectorAll('[class*="shj-lang-"]').forEach(t=>u(t));0&&(module.exports={highlightAll,highlightElement,highlightText,tokenize});
