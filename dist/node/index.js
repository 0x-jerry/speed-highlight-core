var j=Object.create;var p=Object.defineProperty;var v=Object.getOwnPropertyDescriptor;var $=Object.getOwnPropertyNames;var w=Object.getPrototypeOf,A=Object.prototype.hasOwnProperty;var o=t=>p(t,"__esModule",{value:!0});var I=(t,e)=>{o(t);for(var a in e)p(t,a,{get:e[a],enumerable:!0})},D=(t,e,a)=>{if(e&&typeof e=="object"||typeof e=="function")for(let n of $(e))!A.call(t,n)&&n!=="default"&&p(t,n,{get:()=>e[n],enumerable:!(a=v(e,n))||a.enumerable});return t},m=t=>D(o(p(t!=null?j(w(t)):{},"default",t&&t.__esModule&&"default"in t?{get:()=>t.default,enumerable:!0}:{value:t,enumerable:!0})),t);I(exports,{highlightAll:()=>C,highlightElement:()=>b,highlightText:()=>g,tokenize:()=>f});var y={num:{type:"num",match:/(\.e?|\b)\d(e-|[\d.oxa-fA-F_])*(\.|\b)/g},str:{type:"str",match:/(["'])(\\[^]|(?!\1)[^\r\n\\])*\1?/g},strDouble:{type:"str",match:/"((?!")[^\r\n\\]|\\[^])*"?/g}};var x={},E=(t="")=>{var e,a,n,i;return(i=(a=(e=t.replaceAll("&","&#38;")).replaceAll)==null?void 0:(n=a.call(e,"<","&lt;")).replaceAll)==null?void 0:i.call(n,">","&gt;")},z=(t,e)=>e?`<span class="shj-syn-${e}">${t}</span>`:t;async function f(t,e,a){var n;try{let i,l,s={},d,h=[],c=0,u=typeof e=="string"?await((n=x[e])!=null?n:x[e]=Promise.resolve().then(()=>m(require(`./languages/${e}.js`)))):e,r=[...typeof e=="string"?u.default:e.sub];for(;c<t.length;){for(s.index=null,i=r.length;i-- >0;){if(l=r[i].expand?y[r[i].expand]:r[i],h[i]===void 0||h[i].match.index<c){if(l.match.lastIndex=c,d=l.match.exec(t),d===null){r.splice(i,1),h.splice(i,1);continue}h[i]={match:d,lastIndex:l.match.lastIndex}}h[i].match[0]&&(h[i].match.index<=s.index||s.index===null)&&(s={part:l,index:h[i].match.index,match:h[i].match[0],end:h[i].lastIndex})}if(s.index===null)break;a(t.slice(c,s.index),u.type),c=s.end,s.part.sub?await f(s.match,typeof s.part.sub=="string"?s.part.sub:typeof s.part.sub=="function"?s.part.sub(s.match):s.part,a):a(s.match,s.part.type)}a(t.slice(c,t.length),u.type)}catch{a(t)}}async function g(t,e,a=!0){let n=a?`<div><div class="shj-numbers">${"<div></div>".repeat(t.split(`
`).length)}</div><div>`:"";return await f(t,e,(i,l)=>n+=z(E(i),l)),a&&(n+="</div></div>"),n}async function b(t,e=(n=>(n=t.className.match(/shj-lang-([\w-]+)/))==null?void 0:n[1])(),a){let i=t.textContent;a!=null||(a=`${t.tagName=="CODE"?"in":i.split(`
`).length<2?"one":"multi"}line`),t.dataset.lang=e,t.className=`${[...t.classList].filter(l=>!l.startsWith("shj-")||l.startsWith("shj-mode-")).join(" ")} shj-lang-${e} shj-${a}`,t.innerHTML=await g(i,e,a=="multiline")}var C=async()=>document.querySelectorAll('[class*="shj-lang-"]').forEach(t=>b(t));0&&(module.exports={highlightAll,highlightElement,highlightText,tokenize});
